dat<-read.table(file="~/projects/pdbs/all_tris.txt",sep=",")
dim(dat)
dat[1:5,]
frag_id<-read.table(file="~/projects/rsim/pdb/perl/frag_id",sep="\t")
dim(frag_id)
dim(dat)
frag_id[1,]
dat[1,1]
t=as.character(dat[1,1])
t
?gsub
t
gsub(
"/home/horton/projects/pdbs/","",t,fixed=TRUE)
d=1
tmp=dat[d,1]
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
tmp
for(d in 1:dim(dat)[1]){
tmp=dat[d,1]
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
dat[d,1]=tmp
}
dim(dat)
warngings()
warnings()
dat[1:5,]
t=as.character(dat[1,1])
d=1
tmp=dat[d,1]
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
tmp
t
tmp=dat[d,1]
tmp
dat<-read.table(file="~/projects/pdbs/all_tris.txt",sep=",")
t=as.character(dat[1,1])
t
tmp=t
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
tmp
d=1
tmp=as.character(dat[d,1])
tmp
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
dat[d,1]=tmp
tmp
dat[d,1]
dat<-read.table(file="~/projects/pdbs/all_tris.txt",sep=",")
dat[,1]=as.character(dat[,1])
tmp=as.character(dat[d,1])
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
dat[d,1]=tmp
dat[d,1]
tmp=gsub("/home/horton/projects/pdbs/","",dat[1:10,1],fixed=TRUE)
tmp
tmp=as.character(dat[,1])
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
tmp[1:10]
tmp=as.character(dat[,1])
tmp=gsub("/home/horton/projects/pdbs/","",tmp,fixed=TRUE)
tmp=gsub(".ent.gz","",tmp,fixed=TRUE)
dat[,1]=tmp
dat[1:10,1]
dat[1:10,]
tmp=as.character(frag_id[,2])
tmp=gsub("/home/horton/projects/frags//","",tmp,fixed=TRUE)
frag_id[,2]=tmp
frag_id[1:10,]
names(frag_id)=c("frag_id","pdb_id","model_num","chain_id","start_pos","end_pos")
names(dat)=c("pdb_id","model_num","chain_id","seq","start_pos","face1","face2","face3")
names(dat)
names(frag_id)
?merge
all=merge(dat,frag_id,by=c("pdb_id","model_num","chain_id","start_pos"),all=FALSE)
dim(all)
all[1:10,]
dim(dat)
dim(frag_id)
dim(all)
table(all$seq)
dim(all[all$model_num==0,])
table(all$face1=="-")
n=nchar(all$face1)
hist(n)
n=nchar(as.character(all$face1))
hist(n)
hist(n,nclass=1000)
table(n)
k=nchar(as.character(all$face1)) < 6 & nchar(as.character(all$face2)) < 6 & nchar(as.character(all$face3)) < 6  
table(k)
all_single=all[k,]
table(all_single$face1)
table(as.character(all_single$face1))
k1=nchar(as.character(all$face1)) < 6 & nchar(as.character(all$face2)) < 6 & nchar(as.character(all$face3)) < 6 
k2=nchar(as.character(all$face2)) < 6 & nchar(as.character(all$face2)) < 6 & nchar(as.character(all$face3)) < 6
k3=nchar(as.character(all$face3)) < 6 & nchar(as.character(all$face2)) < 6 & nchar(as.character(all$face3)) < 6
k=k1 & k2 & k3
all_single=all[k,]
table(k)
table(as.character(all_single$face2))
table(as.character(all_single$face3))
table(as.character(all_single$face1))
faces=paste(as.character(all_single$face1),as.character(all_single$face2)
)
faces[1:10]
faces=paste(faces,as.character(all_single$face3))
table(faces)
t=table(faces)
t
length(t)
13^3
hist(t)
plot(t)
t=sort(t)
t
t[1]
t[1:10]
t[1:100]
hist(all_single$face1)
table(all_single$face1)
table(as.character(all_single$face1))
table(as.character(all_single$face1),as.character(all_single$seq))
q()
